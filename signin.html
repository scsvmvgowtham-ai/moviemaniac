<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign In | MovieManiac</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- ================= NAVBAR ================= -->
  <header class="navbar">
    <div class="logo">ğŸ¬ MovieManiac</div>
    <nav class="nav-bar">
      <a href="home.html">Home</a>
      <a href="index.html">Movies</a>
      <a href="actors.html">Actors</a>
      <a href="actresses.html">Actresses</a>
      <a href="comedians.html">Comedians</a>
      <a href="directors.html">Directors</a>
      <a href="watchlist.html">Watchlist</a>
      <a href="game.html">Game</a>
      <div id="authNav"></div>
    </nav>
  </header>

  <!-- ================= SIGN IN CONTENT ================= -->
  <main class="auth-container">
    <div class="auth-card">
      <h1>ğŸ¬ Welcome Back!</h1>
      <p class="auth-subtitle">Sign in to access your watchlist and saved preferences</p>

      <!-- Login Form -->
      <div id="loginForm" class="auth-form">
        <h2>Login</h2>
        <input type="text" id="loginEmail" placeholder="Email or Username" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button class="btn-primary" onclick="handleLogin()">Login</button>
        <p class="auth-switch">Don't have an account? <a href="#" onclick="showSignup()">Sign Up</a></p>
      </div>

      <!-- Signup Form -->
      <div id="signupForm" class="auth-form" style="display: none;">
        <h2>Create Account</h2>
        <input type="text" id="signupUsername" placeholder="Username" required>
        <input type="email" id="signupEmail" placeholder="Email" required>
        <input type="password" id="signupPassword" placeholder="Password" required>
        
        <label for="favoriteChar" style="color: #d4af37; margin-top: 1rem; display: block;">Choose Your Character Name</label>
        <select id="favoriteChar" required>
          <option value="">Select a character...</option>
          <optgroup label="Iconic Characters">
            <option value="ğŸ¦¸ Iron Man">ğŸ¦¸ Iron Man</option>
            <option value="ğŸ¦‡ Batman">ğŸ¦‡ Batman</option>
            <option value="ğŸ•·ï¸ Spider-Man">ğŸ•·ï¸ Spider-Man</option>
            <option value="âš¡ Thor">âš¡ Thor</option>
            <option value="ğŸ›¡ï¸ Captain America">ğŸ›¡ï¸ Captain America</option>
            <option value="ğŸ’š Hulk">ğŸ’š Hulk</option>
            <option value="ğŸ± Black Panther">ğŸ± Black Panther</option>
            <option value="âš”ï¸ Wonder Woman">âš”ï¸ Wonder Woman</option>
            <option value="ğŸ¦… Superman">ğŸ¦… Superman</option>
            <option value="ğŸ”¥ Phoenix">ğŸ”¥ Phoenix</option>
          </optgroup>
          <optgroup label="Legendary Heroes">
            <option value="ğŸ—¡ï¸ Aragorn">ğŸ—¡ï¸ Aragorn</option>
            <option value="ğŸ§™ Gandalf">ğŸ§™ Gandalf</option>
            <option value="âš¡ Harry Potter">âš¡ Harry Potter</option>
            <option value="ğŸ¦ Simba">ğŸ¦ Simba</option>
            <option value="ğŸŒŠ Moana">ğŸŒŠ Moana</option>
            <option value="â„ï¸ Elsa">â„ï¸ Elsa</option>
            <option value="ğŸ¹ Katniss">ğŸ¹ Katniss</option>
            <option value="ğŸ¯ Hawkeye">ğŸ¯ Hawkeye</option>
            <option value="ğŸŒŸ Luke Skywalker">ğŸŒŸ Luke Skywalker</option>
            <option value="âš”ï¸ Rey">âš”ï¸ Rey</option>
          </optgroup>
          <optgroup label="Action Stars">
            <option value="ğŸ”« James Bond">ğŸ”« James Bond</option>
            <option value="ğŸ•¶ï¸ Neo">ğŸ•¶ï¸ Neo</option>
            <option value="ğŸ¤– Terminator">ğŸ¤– Terminator</option>
            <option value="ğŸš— Fast & Furious">ğŸš— Fast & Furious</option>
            <option value="ğŸ´â€â˜ ï¸ Jack Sparrow">ğŸ´â€â˜ ï¸ Jack Sparrow</option>
            <option value="ğŸ­ Joker">ğŸ­ Joker</option>
            <option value="ğŸ‘‘ T'Challa">ğŸ‘‘ T'Challa</option>
            <option value="ğŸª Deadpool">ğŸª Deadpool</option>
          </optgroup>
          <optgroup label="Classic Icons">
            <option value="ğŸ¬ Godfather">ğŸ¬ Godfather</option>
            <option value="ğŸ’¼ Tony Soprano">ğŸ’¼ Tony Soprano</option>
            <option value="ğŸŒ¹ Rose (Titanic)">ğŸŒ¹ Rose (Titanic)</option>
            <option value="ğŸ’ Frodo">ğŸ’ Frodo</option>
            <option value="ğŸ¯ Sherlock">ğŸ¯ Sherlock</option>
          </optgroup>
        </select>
        
        <button class="btn-primary" onclick="handleSignup()">Create Account</button>
        <p class="auth-switch">Already have an account? <a href="#" onclick="showLogin()">Login</a></p>
      </div>

      <div id="authMessage" class="auth-message"></div>
    </div>
  </main>

  <!-- ================= FOOTER ================= -->
  <footer>
    <p>Â© 2026 MovieManiac - Your Cinematic Journey Begins Here</p>
  </footer>

  <!-- ================= SCRIPTS ================= -->
  <script src="js/data.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/navigation.js"></script>
  <script>
    function showSignup() {
      document.getElementById('loginForm').style.display = 'none';
      document.getElementById('signupForm').style.display = 'block';
      document.getElementById('authMessage').textContent = '';
    }

    function showLogin() {
      document.getElementById('signupForm').style.display = 'none';
      document.getElementById('loginForm').style.display = 'block';
      document.getElementById('authMessage').textContent = '';
    }

    function handleLogin() {
      const email = document.getElementById('loginEmail').value.trim();
      const password = document.getElementById('loginPassword').value;

      if (!email || !password) {
        showMessage('Please fill in all fields', 'error');
        return;
      }

      const result = window.MovieManiacAuth.login(email, password);
      
      if (result.success) {
        showMessage(result.message, 'success');
        setTimeout(() => {
          window.location.href = 'home.html';
        }, 1000);
      } else {
        showMessage(result.message, 'error');
      }
    }

    function handleSignup() {
      const username = document.getElementById('signupUsername').value.trim();
      const email = document.getElementById('signupEmail').value.trim();
      const password = document.getElementById('signupPassword').value;
      const character = document.getElementById('favoriteChar').value;

      if (!username || !email || !password || !character) {
        showMessage('Please fill in all fields', 'error');
        return;
      }

      if (password.length < 6) {
        showMessage('Password must be at least 6 characters', 'error');
        return;
      }

      const result = window.MovieManiacAuth.signUp(username, email, password, character);
      
      if (result.success) {
        showMessage(result.message, 'success');
        setTimeout(() => {
          window.location.href = 'home.html';
        }, 1000);
      } else {
        showMessage(result.message, 'error');
      }
    }

    function showMessage(message, type) {
      const msgDiv = document.getElementById('authMessage');
      msgDiv.textContent = message;
      msgDiv.className = 'auth-message ' + (type === 'success' ? 'success' : 'error');
    }

    // Check if already logged in
    if (window.MovieManiacAuth.isLoggedIn()) {
      window.location.href = 'profile.html';
    }
  </script>
</body>
</html>